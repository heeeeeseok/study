# 1.1 SQL을 직접 대룰 때 발생하는 문제점
    DB는 데이터 중심의 구조를 가지므로 객체를 데이터베이스에 직접 저장하거나 조회할 수 없다.
    따라서 개발자가 객체지향 애플리케이션과 DB의 중간에서 SQL과 JDBC API를 사용해 직접 변환해주어야 한다.

    SQL에 모든 것을 의존하는 상황에서는 개발자들이 엔티티를 신뢰하고 사용할 수 없다.
    대신에 DAO(데이터 접근 계층)을 열어 어떤 SQL이 실행되는지 일일이 확인해야 한다.
    이는 엔티티와 강한 의존관계를 지니게 되고 진정한 의미의 계층분할을 이루기 힘들다.

## JPA와 문제 해결
    JPA를 사용하면 객체를 데이터베이스에 저장하고 관리할 때, 개발자가 직접 SQL을 작성하지 않고 
    JPA가 제공하는 API를 사용한다.
    그러면 JPA가 개발자 대신에 적절한 SQL을 생성해서 데이터베이스에 전달한다.

    1. 저장
        persist() 메소드는 객체를 데이터베이스에 저장한다.
        이 메소드를 호출하면 JPA가 객체와 매핑정보를 보고 적절한 INSERT SQL을 생성해서 데이터베이스에 전달한다.
    2. 조회
        find() 메소드는 객체 하나를 데이터베이스에서 조회한다.
        JPA는 객체와 매핑정보를 보고 적절한 SELECT SQL을 생성해서 데이터베이스에 전달한다.
    3. 수정
        JPA는 별도의 수정 메소드를 제공하지 않는다.
        대신에 객체를 조회해서 값을 변경만 하면 트랜잭션을 커밋할 때 데이터베이스에 적절한 UPDATE SQL이 전달된다.
    4. 연관된 객체 조회
        JPA는 연관된 객체를 사용하는 시점에 적절한 SELECT SQL을 실행한다. (지연로딩)

# 1.2 패러다임의 불일치
    관계형 데이터베이스는 데이터 중심으로 구조화되어 있고, 객체지향에서 이야기하는 추상화, 상속, 다형성 같은 개념이 없다.
    객체와 관계형 데이터베이스는 지향하는 목적이 서로 다르므로 둘의 기능과 표현 방법도 다르다.
    이것을 객체와 관계형 데이터베이스의 패러다임 불일치 문제라고 한다.
    따라서 객체 구조를 테이블 구조에 저장하는 데는 한계가 있다.

    JPA를 사용하면 상속, 연관관계 등의 패러다임의 불일치를 중간에서 해결해준다.

## JPA와 연관관계
```java
class Member {
    Team team;
    ...
}

member.getTeam(); // member -> team 접근
```
    객체는 Team 객체의 참조를 보관해서 Team 객체와 관계를 맺고, 이 참조를 통해 연관된 Team 객체를 조회한다.
    반면 MEMBER 테이블은 MEMBER.TEAM_ID 외래 키 컬럼을 사용해서 TEAM 테이블과 관계를 맺는다.
    이 외래 키를 사용해서 MEMBER 테이블과 TEAM 테이블을 조인하면 MEMBER 테이블과 연관된 TEAM 테이블을 조회할 수 있다.
    
    JPA는 team의 참조를 외래키로 변환해서 적절한 INSERT SQL을 데이터베이스에 전달한다.
    객체를 조회할 때 외래키를 참조로 변환하는 일도 JPA가 알아서 처리해준다.

# 정리
    객체 모델과 관계형 데이터베이스 모델은 지향하는 패더다임이 서로 다르다.
    이 차이를 극복하려고 개발자가 너무 많은 시간과 코드를 소비한다.

    정교한 객체 모델링을 할수록 패러다임의 불일치 문제가 커진다.

    자바 진영에서는 이러한 문제를 해결하기 위해 많은 노력을 기울였고 그 결과물이 바로 JPA이다.
    JPA는 패러다임의 불일치 문제를 해결해주고 정교한 객체 모델링을 유지할 수 있도록 해준다.

# JPA란?
    JPA는 자바진영의 ORM(Object Relational Mapping) 표준 API명세. 즉 인터페이스를 모아둔 것

    Hibernate는 JPA의 구현체. 인터페이스를 직접 구현한 라이브러리이다.
    따라서 JPA를 이용하기 위해서는 꼭 hibernate를 이용할 필요는 없다.
    단지 hibernate가 성숙한 라이브러리이기 떄문에 많이 이용하는 것

    객체와 관계형 데이터베이스 간의 패러다임 차이를 중간에서 해결해준다

    JPA는 실행시점에 자동으로 SQL을 만들어서 DB로 전달, 여러가지 불일치 문제를 해결함

# JPA 사용시의 이점
    CRUD SQL을 작성할 필요가 없고, 조회된 결과를 객체로 매핑하는 작업도 대부분 자동으로 처리해줌

    애플리케이션을 SQL이 아닌 객체 중심으로 개발하여 생산성과 유지보수가 좋아짐

    개발단계에서 데이터베이스의 변경이 있어도 코드를 거의 수정하지 않고 변경 가능

# (추가) Spring Data JPA
    JPA를 쓰기 편하게 만들어놓은 모듈

    Spring Data JPA는 Spring에서 제공하는 모듈 중 하나로, 개발자가 JPA를 더 쉽고 편하게 사용할 수 있도록 도와준다. 
    이는 JPA를 한 단계 추상화시킨 Repository라는 인터페이스를 제공함으로써 이루어진다. 
    사용자가 Repository 인터페이스에 정해진 규칙대로 메소드를 입력하면, Spring이 알아서 해당 메소드 이름에 적합한 쿼리를 날리는 구현체를 만들어서 Bean으로 등록해준다.
    
